---
import Layout from "../../../../../layouts/Layout.astro";
import App from "../../../../../components/family.tsx";

export async function getStaticPaths() {
  const { default: family } = await import("../_family.json");

  return Object.entries(family).map(([family, apps]) => ({
    params: { family },
    props: {
      name: family,
      apps: apps.map((name) => ({
        name,
        url: `/repo/bincache/aarch64-linux/${family}/${name}`,
      })),
    },
  }));
}

const { name, apps } = Astro.props;
---

<Layout>
  <App apps={apps} name={name} client:load />
</Layout>
